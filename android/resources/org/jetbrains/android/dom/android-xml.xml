<!--
  ~ Copyright (C) 2019 The Android Open Source Project
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<idea-plugin url="https://www.jetbrains.com/idea">
  <!-- Extensions related to Android DOM functionality. See README.md for details. -->

  <extensions defaultExtensionNs="com.intellij">
    <!-- File descriptions for res/drawable: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AdaptiveIconDomFileDescription" rootTagName="adaptive-icon"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.DrawableStateListDomFileDescription" rootTagName="selector"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.CustomDrawableDomFileDescription" rootTagName="drawable"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.BitmapDomFileDescription" rootTagName="bitmap"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.NinePatchDomFileDescription" rootTagName="nine-patch"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.LayerListDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.LevelListDomFileDescription" rootTagName="level-list"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.ShapeDomFileDescription" rootTagName="shape"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimationListDomFileDescription" rootTagName="animation-list"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimatedStateListDomFileDescription" rootTagName="animated-selector"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.RippleDomFileDescription" rootTagName="ripple"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.ColorDrawableDomFileDescription" rootTagName="color"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.VectorDomFileDescription" rootTagName="vector"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimatedVectorDomFileDescription" rootTagName="animated-vector"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.InsetDomFileDescription" rootTagName="inset"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.ClipDomFileDescription" rootTagName="clip"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.ScaleDomFileDescription" rootTagName="scale"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimatedRotateDomFileDescription" rootTagName="animated-rotate"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.RotateDomFileDescription" rootTagName="rotate"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.CustomDrawableElementDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimatedImageDomFileDescription" rootTagName="animated-image"/>

    <!-- File descriptions for res/drawable: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.color.fileDescriptions.ColorGradientDomFileDescription" rootTagName="gradient"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.color.fileDescriptions.ColorStateListDomFileDescription" rootTagName="selector"/>

    <!-- File description for res/raw: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.raw.RawDomFileDescription"/>

    <!-- File description for Manifest files: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.manifest.ManifestDomFileDescription" rootTagName="manifest"/>

    <!-- File descriptions for res/layout: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.layout.LayoutViewElementDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.layout.FragmentLayoutDomFileDescription" rootTagName="fragment"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.layout.DataBindingDomFileDescription" rootTagName="layout"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.layout.MergeDomFileDescription" rootTagName="merge"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.layout.ViewTagDomFileDescription" rootTagName="view"/>

    <!-- File descriptions for res/anim: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenSetFileDescription" rootTagName="set"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenAlphaFileDescription" rootTagName="alpha"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenRotateFileDescription" rootTagName="rotate"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenScaleFileDescription" rootTagName="scale"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenTranslateFileDescription" rootTagName="translate"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animation.fileDescriptions.InterpolatorDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animation.fileDescriptions.LayoutAnimationControllerDomFileDescription" rootTagName="layoutAnimation"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animation.fileDescriptions.GridLayoutAnimationControllerDomFileDescription" rootTagName="gridLayoutAnimation"/>

    <!-- File descriptions for res/animator: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animator.fileDescriptions.AnimatorDomFileDescription" rootTagName="animator"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animator.fileDescriptions.AnimatorSetDomFileDescription" rootTagName="set"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animator.fileDescriptions.ObjectAnimatorDomFileDescription" rootTagName="objectAnimator"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.animator.fileDescriptions.AnimatorStateListDomFileDescription" rootTagName="selector"/>

    <!-- File descriptions for res/transition: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.transition.TransitionDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.transitionManager.TransitionManagerDomFileDescription" rootTagName="transitionManager"/>

    <!-- File description for res/menu: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.menu.MenuDomFileDescription"/>

    <!-- File description for values resources files: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.resources.ResourcesDomFileDescription" rootTagName="resources"/>

    <!-- File descriptions for res/xml: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.xml.PreferenceClassDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.xml.XmlResourceDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.xml.AppRestrictionsDomFileDescription" rootTagName="restrictions"/>
    <dom.fileMetaData implementation="com.android.tools.idea.dom.xml.PathsDomFileDescription" rootTagName="paths"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.motion.MotionDomFileDescription" rootTagName="MotionScene"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.xml.AccessibilityServiceDomFileDescription" rootTagName="accessibility-service"/>

    <!-- File description for file with <lint> root tag: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.lint.LintSettingsFileDescription" rootTagName="lint"/>

    <!-- File description for res/font: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.font.FontFamilyDomFileDescription" rootTagName="font-family"/>

    <!-- File description for res/navigation: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.navigation.NavigationDomFileDescription"/>

    <!--  The dynamic DOM extender:  -->
    <dom.extender domClass="org.jetbrains.android.dom.AndroidDomElement" extenderClass="org.jetbrains.android.dom.AndroidDomExtender"/>

    <!-- Extensions affecting code completion and XML in general: -->
    <xml.elementDescriptorProvider implementation="org.jetbrains.android.dom.AndroidDomElementDescriptorProvider" order="first"/>
    <xml.xmlExtension implementation="org.jetbrains.android.dom.AndroidXmlExtension" order="first"/>
    <xmlStructureViewBuilderProvider implementation="org.jetbrains.android.dom.structure.resources.ResourceStructureViewBuilderProvider"/>
    <xmlStructureViewBuilderProvider implementation="org.jetbrains.android.dom.structure.layout.LayoutStructureViewBuilderProvider"/>
    <psi.referenceContributor language="XML" implementation="org.jetbrains.android.dom.AndroidXmlReferenceContributor" />
    <lang.foldingBuilder language="XML" implementationClass="com.android.tools.idea.folding.ResourceFoldingBuilder" />
    <completion.contributor language="XML" implementationClass="org.jetbrains.android.completion.AndroidXmlCompletionContributor"
                            id="compositieAttributeValues" order="first"/>
    <typedHandler implementation="org.jetbrains.android.dom.AndroidXmlTypedHandler" />
    <lookup.charFilter implementation="org.jetbrains.android.dom.AndroidXmlCharFilter" order="before xml"/>
    <localInspection language="XML" shortName="AndroidMissingOnClickHandler" bundle="messages.AndroidBundle"
                     key="android.inspections.on.click.missing.name" groupKey="android.inspections.group.name" enabledByDefault="true"
                     level="WARNING" implementationClass="org.jetbrains.android.inspections.AndroidMissingOnClickHandlerInspection"/>
    <localInspection language="XML" bundle="messages.AndroidBundle"
                     implementationClass="org.jetbrains.android.inspections.XmlWrongFileTypeInspection"
                     enabledByDefault="true"
                     key="android.inspections.root.tag.name" groupKey="android.inspections.group.name"/>
    <xml.schemaProvider implementation="org.jetbrains.android.AndroidXmlSchemaProvider"/>
    <spellchecker.support language="XML" implementationClass="org.jetbrains.android.spellchecker.AndroidXmlSpellcheckingStrategy" order="before xml"/>
    <lang.refactoringSupport
        id="android_string_resource"
        implementationClass="com.android.tools.idea.editors.strings.StringResourceRefactoringSupportProvider"
        language="XML"
        order="first"/>
    <implicitUsageProvider implementation="org.jetbrains.android.AndroidXmlnsImplicitUsagesProvider"/>
    <gotoDeclarationHandler implementation="org.jetbrains.android.XmlAttributeNameGotoDeclarationHandler" order="last"/>

    <!-- Code style: -->
    <codeStyleSettingsProvider implementation="org.jetbrains.android.formatter.AndroidXmlCodeStyleSettingsProvider"/>
    <lang.formatter language="XML" implementationClass="org.jetbrains.android.formatter.AndroidXmlFormattingModelBuilder"/>
    <editorNotificationProvider implementation="org.jetbrains.android.formatter.AndroidCodeStyleNotificationProvider"/>
    <lang.rearranger language="XML" implementationClass="org.jetbrains.android.formatter.AndroidXmlRearranger" order="first"/>
    <predefinedCodeStyle implementation="org.jetbrains.android.formatter.AndroidXmlPredefinedCodeStyle"/>

    <!-- Annotators: -->
    <externalAnnotator language="XML" implementationClass="org.jetbrains.android.AndroidXMLResourceExternalAnnotator"/>


    <!-- Documentation providers: -->
    <lang.documentationProvider language="XML" implementationClass="org.jetbrains.android.dom.lint.IssueIdDocumentationProvider" />

    <!-- Inspections related to the DOM structure: -->
    <localInspection language="XML" shortName="AndroidDomInspection" bundle="messages.AndroidBundle" key="android.inspections.dom.name"
                     groupKey="android.inspections.group.name" enabledByDefault="true" level="ERROR"
                     implementationClass="org.jetbrains.android.dom.inspections.AndroidDomInspection"/>

    <localInspection language="XML" shortName="AndroidUnknownAttribute" bundle="messages.AndroidBundle"
                     key="android.inspections.unknown.attribute.name" groupKey="android.inspections.group.name" enabledByDefault="true"
                     level="WARNING" implementationClass="org.jetbrains.android.dom.inspections.AndroidUnknownAttributeInspection"/>

    <localInspection language="XML" shortName="AndroidElementNotAllowed" bundle="messages.AndroidBundle"
                     key="android.inspections.element.not.allowed.name" groupKey="android.inspections.group.name" enabledByDefault="true"
                     level="WARNING" implementationClass="org.jetbrains.android.dom.inspections.AndroidElementNotAllowedInspection"/>

    <localInspection language="XML" shortName="AndroidUnresolvableTag" bundle="messages.AndroidBundle"
                     key="android.inspections.unresolvable.tag" groupKey="android.inspections.group.name" enabledByDefault="true"
                     level="ERROR" implementationClass="org.jetbrains.android.dom.inspections.AndroidUnresolvableTagInspection"/>

    <localInspection language="XML" shortName="NavigationFile" bundle="messages.AndroidBundle"
                     key="android.inspections.nav.file" groupKey="android.inspections.group.name" enabledByDefault="true"
                     level="ERROR" implementationClass="org.jetbrains.android.dom.inspections.NavFileInspection"/>

  </extensions>
</idea-plugin>
