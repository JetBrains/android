<!--
  ~ Copyright (C) 2019 The Android Open Source Project
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->
<idea-plugin url="https://www.jetbrains.com/idea">
  <!-- Extensions related to Android DOM functionality. See README.md for details. -->

  <extensions defaultExtensionNs="com.intellij">
    <!-- File descriptions for res/drawable: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AdaptiveIconDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.DrawableStateListDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.CustomDrawableDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.BitmapDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.NinePatchDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.LayerListDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.LevelListDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.ShapeDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimationListDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimatedStateListDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.RippleDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.ColorDrawableDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.VectorDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimatedVectorDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.InsetDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.ClipDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.ScaleDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimatedRotateDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.drawable.fileDescriptions.RotateDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.CustomDrawableElementDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.drawable.fileDescriptions.AnimatedImageDomFileDescription" rootTagName="animated-image"/>

    <!-- File descriptions for res/drawable: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.color.fileDescriptions.ColorGradientDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.color.fileDescriptions.ColorStateListDomFileDescription"/>

    <!-- File description for res/raw: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.raw.RawDomFileDescription"/>

    <!-- File description for Manifest files: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.manifest.ManifestDomFileDescription"/>

    <!-- File descriptions for res/layout: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.layout.LayoutViewElementDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.layout.FragmentLayoutDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.layout.DataBindingDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.layout.MergeDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.layout.ViewTagDomFileDescription"/>

    <!-- File descriptions for res/anim: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenSetFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenAlphaFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenRotateFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenScaleFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animation.fileDescriptions.TweenTranslateFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animation.fileDescriptions.InterpolatorDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animation.fileDescriptions.LayoutAnimationControllerDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animation.fileDescriptions.GridLayoutAnimationControllerDomFileDescription"/>

    <!-- File descriptions for res/animator: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.animator.fileDescriptions.AnimatorDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animator.fileDescriptions.AnimatorSetDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animator.fileDescriptions.ObjectAnimatorDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.animator.fileDescriptions.AnimatorStateListDomFileDescription"/>

    <!-- File descriptions for res/transition: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.transition.TransitionDomFileDescription"/>
    <dom.fileDescription implementation="org.jetbrains.android.dom.transitionManager.TransitionManagerDomFileDescription"/>

    <!-- File description for res/menu: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.menu.MenuDomFileDescription"/>

    <!-- File description for values resources files: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.resources.ResourcesDomFileDescription"/>

    <!-- File descriptions for res/xml: -->
    <dom.fileMetaData implementation="org.jetbrains.android.dom.xml.PreferenceClassDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.xml.XmlResourceDomFileDescription"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.xml.AppRestrictionsDomFileDescription" rootTagName="restrictions"/>
    <dom.fileMetaData implementation="com.android.tools.idea.dom.xml.PathsDomFileDescription" rootTagName="paths"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.motion.MotionDomFileDescription" rootTagName="MotionScene"/>
    <dom.fileMetaData implementation="org.jetbrains.android.dom.xml.AccessibilityServiceDomFileDescription" rootTagName="accessibility-service"/>

    <!-- File description for file with <lint> root tag: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.lint.LintSettingsFileDescription"/>

    <!-- File description for res/font: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.font.FontFamilyDomFileDescription"/>

    <!-- File description for res/navigation: -->
    <dom.fileDescription implementation="org.jetbrains.android.dom.navigation.NavigationDomFileDescription"/>

    <!--  The dynamic DOM extender:  -->
    <dom.extender domClass="org.jetbrains.android.dom.AndroidDomElement" extenderClass="org.jetbrains.android.dom.AndroidDomExtender"/>

    <!-- Extensions affecting code completion and XML in general: -->
    <xml.elementDescriptorProvider implementation="org.jetbrains.android.dom.AndroidDomElementDescriptorProvider" order="first"/>
    <xml.xmlExtension implementation="org.jetbrains.android.dom.AndroidXmlExtension" order="first"/>
    <xmlStructureViewBuilderProvider implementation="org.jetbrains.android.dom.structure.resources.ResourceStructureViewBuilderProvider"/>
    <xmlStructureViewBuilderProvider implementation="org.jetbrains.android.dom.structure.layout.LayoutStructureViewBuilderProvider"/>
    <psi.referenceContributor language="XML" implementation="org.jetbrains.android.dom.AndroidXmlReferenceContributor" />
    <lang.foldingBuilder language="XML" implementationClass="com.android.tools.idea.folding.ResourceFoldingBuilder" />
    <completion.contributor language="XML" implementationClass="org.jetbrains.android.completion.AndroidXmlCompletionContributor"
                            id="compositieAttributeValues" order="first"/>
    <typedHandler implementation="org.jetbrains.android.dom.AndroidXmlTypedHandler" />
    <lookup.charFilter implementation="org.jetbrains.android.dom.AndroidXmlCharFilter" order="before xml"/>
<!--    <localInspection language="XML" shortName="AndroidMissingOnClickHandler" bundle="messages.AndroidBundle"-->
<!--                     key="android.inspections.on.click.missing.name" groupKey="android.inspections.group.name" enabledByDefault="true"-->
<!--                     level="WARNING" implementationClass="org.jetbrains.android.inspections.AndroidMissingOnClickHandlerInspection"/>-->
    <localInspection language="XML" bundle="messages.AndroidBundle"
                     implementationClass="org.jetbrains.android.inspections.XmlWrongFileTypeInspection"
                     enabledByDefault="true"
                     key="android.inspections.root.tag.name" groupKey="android.inspections.group.name"/>
    <xml.schemaProvider implementation="org.jetbrains.android.AndroidXmlSchemaProvider"/>
    <spellchecker.support language="XML" implementationClass="org.jetbrains.android.spellchecker.AndroidXmlSpellcheckingStrategy" order="before xml"/>
    <lang.refactoringSupport
        id="android_string_resource"
        implementationClass="com.android.tools.idea.editors.strings.StringResourceRefactoringSupportProvider"
        language="XML"
        order="first"/>
    <implicitUsageProvider implementation="org.jetbrains.android.AndroidXmlnsImplicitUsagesProvider"/>
    <gotoDeclarationHandler implementation="org.jetbrains.android.XmlAttributeNameGotoDeclarationHandler" order="last"/>

    <!-- Code style: -->
    <codeStyleSettingsProvider implementation="org.jetbrains.android.formatter.AndroidXmlCodeStyleSettingsProvider"/>
    <lang.formatter language="XML" implementationClass="org.jetbrains.android.formatter.AndroidXmlFormattingModelBuilder"/>
    <editorNotificationProvider implementation="org.jetbrains.android.formatter.AndroidCodeStyleNotificationProvider"/>
    <lang.rearranger language="XML" implementationClass="org.jetbrains.android.formatter.AndroidXmlRearranger" order="first"/>
    <predefinedCodeStyle implementation="org.jetbrains.android.formatter.AndroidXmlPredefinedCodeStyle"/>

    <!-- Annotators: -->
    <externalAnnotator language="XML" implementationClass="org.jetbrains.android.AndroidXMLResourceExternalAnnotator"/>


    <!-- Documentation providers: -->
    <lang.documentationProvider language="XML" implementationClass="org.jetbrains.android.dom.AndroidXmlDocumentationProvider" order="first"/>
    <lang.documentationProvider language="XML" implementationClass="org.jetbrains.android.dom.lint.IssueIdDocumentationProvider" />

    <!-- Inspections related to the DOM structure: -->
    <localInspection language="XML" shortName="AndroidDomInspection" bundle="messages.AndroidBundle" key="android.inspections.dom.name"
                     groupKey="android.inspections.group.name" enabledByDefault="true" level="ERROR"
                     implementationClass="org.jetbrains.android.dom.inspections.AndroidDomInspection"/>

    <localInspection language="XML" shortName="AndroidUnknownAttribute" bundle="messages.AndroidBundle"
                     key="android.inspections.unknown.attribute.name" groupKey="android.inspections.group.name" enabledByDefault="true"
                     level="WARNING" implementationClass="org.jetbrains.android.dom.inspections.AndroidUnknownAttributeInspection"/>

    <localInspection language="XML" shortName="AndroidElementNotAllowed" bundle="messages.AndroidBundle"
                     key="android.inspections.element.not.allowed.name" groupKey="android.inspections.group.name" enabledByDefault="true"
                     level="WARNING" implementationClass="org.jetbrains.android.dom.inspections.AndroidElementNotAllowedInspection"/>

<!--    <localInspection language="XML" shortName="AndroidUnresolvableTag" bundle="messages.AndroidBundle"-->
<!--                     key="android.inspections.unresolvable.tag" groupKey="android.inspections.group.name" enabledByDefault="true"-->
<!--                     level="ERROR" implementationClass="org.jetbrains.android.dom.inspections.AndroidUnresolvableTagInspection"/>-->

    <localInspection language="XML" shortName="NavigationFile" bundle="messages.AndroidBundle"
                     key="android.inspections.nav.file" groupKey="android.inspections.group.name" enabledByDefault="true"
                     level="ERROR" implementationClass="org.jetbrains.android.dom.inspections.NavFileInspection"/>

  </extensions>
</idea-plugin>
