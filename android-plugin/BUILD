load("//tools/base/bazel:bazel.bzl", "iml_module")

# managed by go/iml_to_build
iml_module(
    name = "intellij.android.plugin",
    iml_files = ["intellij.android.plugin.iml"],
    test_class = "org.jetbrains.android.AndroidPluginTestSuite",
    test_srcs = ["testSrc"],
    test_tags = [
        "block-network",
        "cpu:3",
        "no_test_mac",  # b/174646037
    ],
    visibility = ["//visibility:public"],
    # do not sort: must match IML order
    runtime_deps = [
        "//tools/adt/idea/android:intellij.android.core",
        "//tools/adt/idea/ml-api:intellij.android.ml-api",
        "//tools/adt/idea/streaming:intellij.android.streaming",
        "//tools/adt/idea/sdk-updates:intellij.android.sdkUpdates",
        "//tools/adt/idea/app-inspection/ide:app-inspection.ide",
        "//tools/adt/idea/profilers-android:intellij.android.profilersAndroid",
        "//tools/adt/idea/android-adb:intellij.android.adb",
        "//tools/adt/idea/app-inspection/inspectors/database:app-inspection.inspectors.database",
        "//tools/adt/idea/android-lang:intellij.android.lang",
        "//tools/adt/idea/project-system:intellij.android.projectSystem",
        "//tools/adt/idea/project-system-apk:intellij.android.projectSystem.apk",
        "//tools/adt/idea/project-system-gradle:intellij.android.projectSystem.gradle",
        "//tools/adt/idea/project-system-gradle-psd:intellij.android.projectSystem.gradle.psd",
        "//tools/adt/idea/project-system-gradle-upgrade:intellij.android.projectSystem.gradle.upgrade",
        "//tools/adt/idea/android-transport:intellij.android.transport",
        "//tools/adt/idea/assistant",
        "//tools/adt/idea/connection-assistant",
        "//tools/adt/idea/whats-new-assistant",
        "//tools/adt/idea/android-lang-databinding:intellij.android.lang-databinding",
        "//tools/adt/idea/databinding:intellij.android.databinding",
        "//tools/adt/idea/mlkit:intellij.android.mlkit",
        "//tools/adt/idea/layout-inspector:intellij.android.layout-inspector",
        "//tools/adt/idea/room:intellij.android.room",
        "//tools/base/wizard/template-impl:studio.intellij.android.wizardTemplate.impl",
        "//tools/adt/idea/build-attribution:intellij.android.build-attribution",
        "//tools/adt/idea/lint:intellij.lint",
        "//tools/adt/idea/nav/safeargs:intellij.android.nav.safeargs",
        "//tools/adt/idea/dagger:intellij.android.dagger",
        "//tools/adt/idea/project-system-gradle-sync:intellij.android.projectSystem.gradle.sync",
        "//tools/adt/idea/app-inspection/inspectors/network/ide:app-inspection.inspectors.network.ide",
        "//tools/adt/idea/app-inspection/inspectors/backgroundtask/ide:app-inspection.inspectors.backgroundtask.ide",
        "//tools/adt/idea/debuggers:intellij.android.debuggers",
        "//tools/adt/idea/intellij.android.device",
        "//tools/adt/idea/logcat:intellij.android.logcat",
        "//tools/adt/idea/device-explorer:intellij.android.device-explorer",
        "//tools/adt/idea/android-npw:intellij.android.newProjectWizard",
        "//tools/adt/idea/android-templates:intellij.android.templates",
        "//tools/adt/idea/android-lint:intellij.android.lint",
        "//tools/adt/idea/device-manager:intellij.android.device-manager",
        "//tools/adt/idea/wear-pairing:intellij.android.wear-pairing",
        "//tools/adt/idea/wear-whs:intellij.android.wear-whs",
        "//tools/adt/idea/device-manager-v2:intellij.android.device-manager-v2",
        "//tools/adt/idea/app-quality-insights/ide:intellij.android.app-quality-insights.ide",
        "//tools/adt/idea/app-quality-insights/play-vitals/ide:intellij.android.app-quality-insights.play-vitals.ide",
        "//tools/adt/idea/android-plugin/descriptor:intellij.android.plugin.descriptor",
        "//tools/adt/idea/android-kotlin:intellij.android.kotlin.extensions",
        "//tools/adt/idea/android-kotlin:intellij.android.kotlin.idea",
        "//tools/adt/idea/layout-inspector:intellij.android.layout-inspector.gradle",
        "//tools/adt/idea/profilers-android/gradle:intellij.android.profilersAndroid.gradle",
        "//tools/adt/idea/app-inspection/ide/gradle:app-inspection.ide.gradle",
        "//tools/adt/idea/samples-browser",
        "//tools/adt/idea/nav/safeargs/common/gradle:intellij.android.nav.safeargs.common.gradle",
        "//tools/adt/idea/native-symbolizer",
        "//tools/adt/idea/native-symbolizer/gradle:native-symbolizer.gradle",
        "//tools/adt/idea/gradle-dsl-toml:intellij.android.gradle.dsl.toml",
        "//tools/adt/idea/gradle-dsl-kotlin:intellij.android.gradle.dsl.kotlin",
        "//tools/adt/idea/gradle-dsl-declarative:intellij.android.gradle.dsl.declarative",
        "//tools/adt/idea/avd:intellij.android.avd",
    ],
    # do not sort: must match IML order
    deps = [
        "@intellij//:intellij-sdk",
        "@intellij//:com.intellij.java",
        "//tools/base/testutils:studio.android.sdktools.testutils[module, test]",
        "//tools/adt/idea/adt-testutils:intellij.android.adt.testutils[module, test]",
    ],
)
